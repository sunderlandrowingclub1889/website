@import '/includes/global.styl'
@import '/includes/page_sections.styl'

.center
  display: flex
  justify-content: center
  
  img
    display: block

.section iframe
  border: 8px solid #fff !important
  border-radius: 4px

#gallery, #videos
  display: grid
  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr))
  grid-template-rows: auto auto
  grid-auto-rows: 0px
  $gap = 16px
  $padding = 20px
  overflow: hidden
  padding: ($padding - $gap / 2)
  
  &:empty
    display: none
    
  &>.gallery-image
    cursor: pointer

  &>.gallery-image, &>.video
    position: relative
    background-color: #fff
    border-radius: 4px
    flex: 1
    box-sizing: border-box
    overflow: hidden
    margin: ($gap / 2)
    $border-width = 8px
    user-select: none
    
    &>img, &>iframe
      display: block
      background-color: #000
      width: unquote('calc(100% - ' + $border-width * 2 + ')')
      position: absolute
      inset: $border-width
    
    &>img
      height: (250px - $border-width * 2)
      object-fit: cover
    
    &>iframe
      height: (360px - $border-width * 2)
      border: none !important
      border-radius: 0
      z-index: 1
    
    &::before
      content: ''
      display: block
      width: 100%
      height: 250px
    
    &::after
      content: ''
      position: absolute
      left: 0
      top: 0
      right: 0
      bottom: 0
      box-shadow: inset 0 0 0 $border-width #fff
  
  &>.video::before
      height: 360px

#videos
  grid-template-columns: repeat(auto-fill, minmax(560px, 1fr))

@keyframes fadeIn
  from
    opacity: 0
  to
    opacity: 1

#fullscreen-cover
  position: fixed
  left: 0
  top: 0
  right: 0
  bottom: 0
  display: flex
  align-items: center
  justify-content: center
  background-color: #0008
  backdrop-filter: blur(32px)
  z-index: 999
  animation: fadeIn 1 250ms forwards
  
  &:empty::before
    content: 'Loading image...'
    color: #fff
    text-shadow: 0 1px 2px #0008
    font-size: 24px
    animation: fadeIn 1 1s forwards
  
  &>img
    display: block
    max-width: calc(100% - 60px)
    max-height: calc(100% - 60px)
    box-sizing: border-box
    border: 8px solid #fff
    border-radius: 4px
    
    @keyframes grow
      from
        transform: scale(0)
      to
        transform: scale(1)
    animation: grow 1 1s forwards
