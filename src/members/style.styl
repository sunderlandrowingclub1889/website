@import '/includes/global.styl'
@import '/includes/page_sections.styl'

.link-button
  background-color: var(--base-color)
  color: var(--white)
  border: 2px solid var(--white)
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2)
  border-radius: 4px
  padding: 12px 18px
  font-weight: bold;
  text-decoration: none
  &:hover
    background-color: var(--intermediate-color)
    border: 2px solid var(--white)
    color: var(--white)

.center
  display: flex
  justify-content: center

  img
    display: block

.section
  article div[data-mc-cmp-id*="mission-control-component"]
    height: 450px !important

  iframe
    border: 8px solid var(--white) !important
    border-radius: 4px
    
    &[src*="widgets.woxo.tech"]
      border: none !important

  .section-split
    display: flex
    flex-direction: row
    align-items: stretch
    width: 100%

    @media screen and (max-width: 1000px)
      flex-direction: column

    &>:first-child
      max-width: 100%
  
  .email
    gap: 8px
    margin-bottom: 20px
    text-decoration: none
    text-align: center
    font-size: 1em
    color: var(--white)
    padding: 5px
    background-color: var(--background-color)
    border-radius: 4px
    display: flex
    align-items: center

    &:hover
      background-color: var(--base-color)

  .icon>svg
    width: 24px
    height: 24px
    display: block
    fill: var(--white)
      
.payment-button
  background-color: var(--white)
  border-radius: 4px
  color: var(--black)
  padding: 8px 30px
  text-decoration: none
  display: block
  
  h4 
    margin-top: 0
    margin-bottom: -0.5em
    font-size: 1.2em
  p
    margin-bottom: 0.5em
    font-size: 1em
    
  &:hover
    background-color: var(--secondary-background-color)

#form
  width: calc(50% + 180px)
  min-width: 445px
  min-height: 700px
  border: none !important
  background-color: var(--white)
  margin: -20px -120px -60px 60px
  border-top-left-radius: 0
  border-bottom-left-radius: 0

  @media screen and (max-width: 1000px)
    width: calc(100% + 40px)
    margin: 20px -20px -60px
    border-top-right-radius: 0
    border-bottom-left-radius: 4px
    max-width: calc(100vw - 40px)
    min-width: calc(100vw - 40px)

#gallery, #videos
  display: grid
  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr))
  grid-template-rows: auto auto
  grid-auto-rows: 0px
  $gap = 16px
  $padding = 20px
  overflow: hidden
  padding: ($padding - $gap / 2)
  
  &:empty
    display: none
    
  &>.gallery-image
    cursor: pointer

  &>.gallery-image, &>.video
    position: relative
    background-color: var(--white)
    border-radius: 4px
    flex: 1
    box-sizing: border-box
    overflow: hidden
    margin-top: 4px
    margin-bottom: 4px
    margin-left: 2px
    margin-right: 2px
    $border-width = 8px
    user-select: none
    
    @media screen and (max-width: 1000px)
      max-width: calc(100vw - 80px)
    
    &>img, &>iframe
      display: block
      background-color: var(--black)
      width: unquote('calc(100% - ' + $border-width * 2 + ')')
      position: absolute
      inset: $border-width
      
      @media screen and (max-width: 1000px)
        max-width: calc(100vw - 80px)
    
    &>img
      height: (250px - $border-width * 2)
      object-fit: cover
    
    &>iframe
      height: (360px - $border-width * 2)
      border: none !important
      border-radius: 0
      z-index: 1
    
    &::before
      content: ''
      display: block
      width: 100%
      height: 250px
    
    &::after
      content: ''
      position: absolute
      left: 0
      top: 0
      right: 0
      bottom: 0
      box-shadow: inset 0 0 0 $border-width var(--white)
  
  &>.video::before
      height: 360px

#videos
  grid-template-columns: @css{repeat(auto-fill, minmax(min(100%, 560px), 1fr))}

@keyframes fadeIn
  from
    opacity: 0
  to
    opacity: 1

#fullscreen-cover
  position: fixed
  left: 0
  top: 0
  right: 0
  bottom: 0
  display: flex
  align-items: center
  justify-content: center
  background-color: var(--shadow-dark)
  backdrop-filter: blur(32px)
  z-index: 999
  animation: fadeIn 1 250ms forwards
  
  &:empty::before
    content: 'Loading image...'
    color: var(--white)
    text-shadow: 0 1px 2px var(--shadow-dark)
    font-size: 24px
    animation: fadeIn 1 1s forwards
  
  &>img
    display: block
    max-width: calc(100% - 60px)
    max-height: calc(100% - 60px)
    box-sizing: border-box
    border: 8px solid var(--white)
    border-radius: 4px
    
    @keyframes grow
      from
        transform: scale(0)
      to
        transform: scale(1)
    animation: grow 1 1s forwards
    
#sections>iframe
  position: relative
  background-color: white
  width: @css{min(calc(100% - 120px), 1460px)}
  min-width: 660px
  margin-left: 20px
  margin-right: 100px
  border-radius: 4px
  box-shadow: 0 4px 16px var(--shadow-light)
  box-sizing: border-box

.header-button
    @extend .link-button
    position: relative
    box-shadow: 0 0.1em 0.2em var(--shadow-dark)
    background-color: var(--background-color)
    color: var(--white)
    text-shadow: 0 1px 3px var(--shadow-dark)
    font-size: 1.2em
    cursor: pointer

    &::before
      content: ''
      position: absolute
      left: -4px
      top: -4px
      width: calc(100% + 8px)
      height: calc(100% + 8px)
      box-sizing: border-box
      border: 2px solid var(--white)
      border-radius: 8px

table
  text-align: center
  align-items: stretch
  flex-direction: column
  display: flex

table, td, tr
  width: 100%
  border: none

td, tr
  display: block

thead
  display: none

tr
  margin-top: 10px
  width: 100%
  border: 4px solid var(--base-color)
  border-radius: 4px
  background-color: var(--base-color)
  border: 2px solid var(--white)

td:first-child 
  font-weight: bold
  font-size: 1.25em

td:nth-child(2), td:nth-child(4)
  font-style: italic

.videoCarousel 
  margin-bottom: -180px

  @media screen and (max-width: 870px)
    margin-bottom: -200px
  
  @media screen and (max-width: 545px)
    margin-bottom: -280px